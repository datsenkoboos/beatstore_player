(function(){"use strict";var e={123:function(e,t,a){var l=a(963),u=a(252),o=a(262),n=a(577);const i={title:"Loading",class:"shimmer overflow-hidden relative w-full h-full bg-base-300"};function s(e,t){return(0,u.wg)(),(0,u.iD)("div",i,[(0,u.WI)(e.$slots,"default")])}var r=a(744);const d={},c=(0,r.Z)(d,[["render",s]]);var v=c,p=a(136);const m=(0,p.Q_)("main",{state:()=>({beat:{name:"",bpm:"",artist:{name:"",id:0},wrap:"",audio:{mp3:"",wav:""}},playing:!1,copy:!1}),actions:{}}),f={class:"w-[93px] relative py-3 pl-3"},x={class:"play-overlay absolute bg-black bg-opacity-80 w-[81px] h-[81px] rounded-lg flex justify-center items-center"},b={xmlns:"http://www.w3.org/2000/svg",class:"ionicon w-[50px]",viewBox:"0 0 512 512",fill:"#FFFFFF"},g=(0,u._)("title",null,"Pause audio",-1),w=(0,u._)("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-32 272a16 16 0 01-32 0V192a16 16 0 0132 0zm96 0a16 16 0 01-32 0V192a16 16 0 0132 0z"},null,-1),h=[g,w],y={xmlns:"http://www.w3.org/2000/svg",class:"ionicon w-[40px]",viewBox:"0 0 512 512",fill:"#FFFFFF"},_=(0,u._)("title",null,"Currently playing",-1),k=(0,u._)("path",{d:"M264 416.19a23.92 23.92 0 01-14.21-4.69l-.66-.51-91.46-75H88a24 24 0 01-24-24V200a24 24 0 0124-24h69.65l91.46-75 .66-.51A24 24 0 01288 119.83v272.34a24 24 0 01-24 24zM352 336a16 16 0 01-14.29-23.18c9.49-18.9 14.3-38 14.3-56.82 0-19.36-4.66-37.92-14.25-56.73a16 16 0 0128.5-14.54C378.2 208.16 384 231.47 384 256c0 23.83-6 47.78-17.7 71.18A16 16 0 01352 336z"},null,-1),F=(0,u._)("path",{d:"M400 384a16 16 0 01-13.87-24C405 327.05 416 299.45 416 256c0-44.12-10.94-71.52-29.83-103.95A16 16 0 01413.83 136C434.92 172.16 448 204.88 448 256c0 50.36-13.06 83.24-34.12 120a16 16 0 01-13.88 8z"},null,-1),W=[_,k,F],S={xmlns:"http://www.w3.org/2000/svg",class:"ionicon w-[50px]",viewBox:"0 0 512 512",fill:"#FFFFFF"},M=(0,u._)("title",null,"Play audio",-1),V=(0,u._)("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm74.77 217.3l-114.45 69.14a10.78 10.78 0 01-16.32-9.31V186.87a10.78 10.78 0 0116.32-9.31l114.45 69.14a10.89 10.89 0 010 18.6z"},null,-1),j=[M,V],L=["src"],C={class:"borderedPart box-border p-3 flex-1 flex flex-col justify-between rounded-r-lg"},D={class:"flex text-xl"},U=(0,u._)("div",{class:"w-[55px] text-secondary"},"Name",-1),z={class:"rounded-lg text-center text-black flex-1 flex items-center"},H={key:0,class:"flex-1"},E={class:"flex text-xl"},P=(0,u._)("div",{class:"w-[55px] text-secondary"},"Type",-1),B={class:"rounded-lg text-center text-black flex-1 flex items-center"},O={key:0,class:"flex-1"},T={class:"flex text-xl"},I=(0,u._)("div",{class:"w-[55px] text-secondary"},"Bpm",-1),q={class:"rounded-lg text-center text-black flex-1 flex items-center"},$={key:0,class:"flex-1"};var A={__name:"BeatstoreBeat",props:{beat:Object},setup(e){const t=e,a=m(),{playing:i}=(0,p.Jk)(a);(0,u.bv)((()=>{a.beat.audio.mp3===t.beat.audio.mp3&&(s.value=!0)})),(0,u.YP)(i,(()=>a.beat.audio.mp3===t.beat.audio.mp3?s.value=!0:s.value=!1));const s=(0,o.iH)(!1),r=(0,o.iH)(!1),d=()=>{s.value=!0,r.value=!0},c=()=>{if(a.beat.audio.mp3===t.beat.audio.mp3)return r.value=!1;s.value=!1,r.value=!1},g=()=>{a.beat.audio.mp3!==t.beat.audio.mp3?a.beat=t.beat:a.playing=!a.playing};return(i,p)=>((0,u.wg)(),(0,u.iD)("div",{class:"box-border flex h-[105px] w-[320px] bg-base-100 rounded-lg cursor-pointer shadow-lg",onMouseenter:d,onMouseleave:c,onClick:g},[(0,u._)("div",f,[(0,u.Wm)(l.uT,{name:"overlay"},{default:(0,u.w5)((()=>[(0,u.wy)((0,u._)("div",x,[(0,u.wy)(((0,u.wg)(),(0,u.iD)("svg",b,h,512)),[[l.F8,(0,o.SU)(a).beat.audio.mp3===t.beat.audio.mp3&&r.value&&(0,o.SU)(a).playing]]),(0,u.wy)(((0,u.wg)(),(0,u.iD)("svg",y,W,512)),[[l.F8,(0,o.SU)(a).beat.audio.mp3===t.beat.audio.mp3&&!r.value&&(0,o.SU)(a).playing]]),(0,u.wy)(((0,u.wg)(),(0,u.iD)("svg",S,j,512)),[[l.F8,(0,o.SU)(a).beat.audio.mp3!==t.beat.audio.mp3||!(0,o.SU)(a).playing]])],512),[[l.F8,s.value]])])),_:1}),e.beat.wrap?((0,u.wg)(),(0,u.iD)("img",{key:0,class:"rounded-lg object-cover box-border w-[81px] h-[81px] shadow-lg",src:e.beat.wrap},null,8,L)):((0,u.wg)(),(0,u.j4)(v,{key:1,class:"rounded-lg object-cover box-border"}))]),(0,u._)("div",C,[(0,u._)("div",D,[U,(0,u._)("div",z,[e.beat.name?((0,u.wg)(),(0,u.iD)("div",H,(0,n.zw)(e.beat.name),1)):((0,u.wg)(),(0,u.j4)(v,{key:1,class:"rounded-lg h-5"}))])]),(0,u._)("div",E,[P,(0,u._)("div",B,[e.beat.artist?((0,u.wg)(),(0,u.iD)("div",O,(0,n.zw)(e.beat.artist.name),1)):((0,u.wg)(),(0,u.j4)(v,{key:1,class:"rounded-lg h-5"}))])]),(0,u._)("div",T,[I,(0,u._)("div",q,[e.beat.bpm?((0,u.wg)(),(0,u.iD)("div",$,(0,n.zw)(e.beat.bpm),1)):((0,u.wg)(),(0,u.j4)(v,{key:1,class:"rounded-lg h-5"}))])])])],32))}};const N=A;var Y=N;const R=["onMousedown"];var Z={__name:"CustomRange",props:{max:Number,value:Number,mode:String},emits:["updateValue","setValue"],setup(e,{emit:t}){const a=e,n=m(),i=(0,o.iH)(null),s=(0,o.iH)(null),r=(0,o.iH)(null),d=(0,o.iH)(a.value);let c;(0,u.bv)((()=>{s.value.style.left=-s.value.offsetWidth/2+"px",c=+(a.max/i.value.clientWidth).toFixed(2)})),(0,u.YP)((()=>a.value),((e,l)=>{if(e!==l)return e>a.max?(t("setValue",d.value=a.max),void p(null,d.value)):void p(null,e)}));const v=e=>{let l=(e/c).toFixed(0);if(d.value=l,"live"===a.mode)return t("setValue",d.value);t("updateValue",d.value)},p=(e,t)=>{if(c=+(i.value.clientWidth/a.max).toFixed(2),void 0!==t)return r.value.style.width=Math.ceil(t*c)+"px",void(s.value.style.left=Math.ceil(t*c)-s.value.offsetWidth/2+"px");let l=e.clientX-s.value.offsetWidth/2,u=i.value.clientWidth-s.value.offsetWidth/2;l<-s.value.offsetWidth/2&&(l=-s.value.offsetWidth/2);let o=l+s.value.offsetWidth/2;l+s.value.offsetWidth/2+1===i.value.clientWidth&&(l=u,o=i.value.clientWidth),r.value.style.width=o+"px",s.value.style.left=l+"px",v(l+s.value.offsetWidth/2)},f=e=>{function a(){n.copy=!1,t("setValue",d.value),document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",p)}n.copy=!0,i.value.focus(),p(e),document.addEventListener("mousemove",p),document.addEventListener("mouseup",a)},x=e=>e.target.querySelector(".thumb").classList.add("active"),b=e=>e.target.querySelector(".thumb").classList.remove("active");return(e,t)=>((0,u.wg)(),(0,u.iD)("div",{class:"custom-range relative cursor-pointer h-[3px] w-full box-border flex items-center bg-base-200 focus:outline-none",ref_key:"range",ref:i,onMousedown:(0,l.iM)(f,["prevent"]),onFocus:x,onFocusout:b,tabindex:"0"},[(0,u._)("div",{class:"beforethumb h-full w-0 bg-primary",ref_key:"beforethumb",ref:r},null,512),(0,u.Wm)(l.uT,{name:"thumb"},{default:(0,u.w5)((()=>[(0,u._)("div",{class:"thumb opacity-0 absolute w-[12px] h-[12px] rounded-full bg-primary",ref_key:"thumb",ref:s},null,512)])),_:1})],40,R))}};const J=Z;var X=J;const Q=["onMousedown"];var G={__name:"VolumeRange",props:{max:Number,value:Number,mode:String},emits:["changeValue","updateValue"],setup(e,{emit:t}){const a=e,n=(0,o.iH)(null),i=(0,o.iH)(null),s=(0,o.iH)(null),r=(0,o.iH)(a.value);let d;(0,u.bv)((()=>{n.value.style.marginInline=i.value.offsetWidth/2+"px",i.value.style.left=-i.value.offsetWidth/2+"px",d=+(a.max/n.value.clientWidth).toFixed(2)})),(0,u.YP)((()=>a.value),((e,l)=>{if(e!==l)return e>a.max?(t("updateValue",r.value=a.max),void v(null,r.value)):void v(null,e)}));const c=e=>{let l=(e/d).toFixed(0);if(r.value=l,"live"===a.mode)return t("changeValue",r.value);t("updateValue",r.value)},v=(e,t)=>{if(d=+(n.value.clientWidth/a.max).toFixed(2),void 0!==t)return s.value.style.width=Math.ceil(t*d)+"px",void(i.value.style.left=Math.ceil(t*d)-i.value.offsetWidth/2+"px");let l=e.clientX-n.value.getBoundingClientRect().left-i.value.offsetWidth/2,u=n.value.clientWidth-i.value.offsetWidth/2;l<-i.value.offsetWidth/2&&(l=-i.value.offsetWidth/2),l>u&&(l=u),s.value.style.width=l+i.value.offsetWidth/2+"px",i.value.style.left=l+"px",c(l+i.value.offsetWidth/2)},p=e=>{function a(){t("changeValue",r.value),document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",v)}n.value.focus(),v(e),document.addEventListener("mousemove",v),document.addEventListener("mouseup",a)},m=e=>e.target.querySelector(".thumb").classList.add("active"),f=e=>{e.target.querySelector(".custom-range")!==document.activeElement&&e.target.querySelector(".thumb").classList.remove("active")};return(e,t)=>((0,u.wg)(),(0,u.iD)("div",{class:"custom-range relative cursor-pointer h-[3px] box-border flex items-center bg-base-200 focus:outline-none",onMousedown:(0,l.iM)(p,["prevent"]),onFocus:m,onFocusout:f,tabindex:"0",ref_key:"range",ref:n},[(0,u._)("div",{ref_key:"beforethumb",ref:s,class:"beforethumb h-full w-0 bg-primary"},null,512),(0,u.Wm)(l.uT,{name:"thumb"},{default:(0,u.w5)((()=>[(0,u._)("div",{ref_key:"thumb",ref:i,class:"thumb opacity-0 absolute w-[12px] h-[12px] rounded-full bg-primary"},null,512)])),_:1})],40,Q))}};const K=(0,r.Z)(G,[["__scopeId","data-v-19ba267c"]]);var ee=K;const te=e=>((0,u.dD)("data-v-43564ddd"),e=e(),(0,u.Cn)(),e),ae={class:"player__controls flex h-[47px] px-5 items-center 600:px-2"},le={class:"w-[150px] flex h-full items-center gap-5 600:gap-1 600:w-[80px]"},ue={class:"flex items-center justify-center h-full w-[65px] text-xs 600:text-[.6rem] 600:w-[51px]"},oe={class:"text-center w-[30px] 600:w-[22px]"},ne=te((()=>(0,u._)("span",{class:"text-center w-[5px]"}," / ",-1))),ie={class:"text-center w-[30px] 600:w-[22px]"},se={class:"flex-1 flex h-full items-center gap-5"},re={class:"flex items-center justify-center flex-1 gap-2"},de=["src"],ce={class:"flex gap-2 600:gap-0"},ve={class:"flex items-center text-lg font-semibold text-black"},pe={class:"text-xs 600:hidden text-secondary"},me={class:"w-[175px] flex h-full items-center justify-end gap-5 600:w-[80px]"},fe=["href"];var xe={__name:"BeatstorePlayer",setup(e){const t=m(),{beat:a,playing:i}=(0,p.Jk)(t);let s=new Audio(a.value.audio.mp3);const r=(0,o.iH)(0),d=(0,o.iH)(0),c=(0,o.iH)(0),v=(0,o.iH)(0);function f(){k(void 0!==localStorage.getItem("volume")?+localStorage.getItem("volume"):100),v.value=Math.ceil(s.duration),r.value=s.currentTime,t.playing=!0,document.addEventListener("keydown",(e=>{" "===e.key&&e.preventDefault()})),document.addEventListener("keyup",(e=>{" "===e.key&&_()}))}let x;(0,u.YP)(a,(()=>{t.playing=!1,s.src=a.value.audio.mp3,s.addEventListener("loadedmetadata",f)})),(0,u.YP)(i,(e=>{if(e)return s.play(),void(x=setInterval((()=>{Math.ceil(s.currentTime)===v.value&&(y(0),t.playing=!1),t.copy||h(Math.ceil(s.currentTime))}),100));clearInterval(x),s.pause()}));const b=e=>e%60>=10?`${Math.trunc(e/60)}:${e%60}`:`${Math.trunc(e/60)}:0${e%60}`,g=(0,u.Fl)((()=>b(t.copy?d.value:r.value))),w=(0,u.Fl)((()=>b(v.value))),h=e=>{t.copy?d.value=+e:r.value=+e},y=e=>{t.playing,r.value=s.currentTime=+e},_=()=>{t.playing=!t.playing},k=e=>{s.volume=+(e/100).toFixed(2),c.value=100*s.volume,localStorage.setItem("volume",c.value)};let F;const W=()=>{F||(F=100*s.volume),s.volume?k(0):k(F||(+localStorage.getItem("volume")?+localStorage.getItem("volume"):100))},S=e=>{e.target.querySelector(".thumb").classList.add("active")},M=e=>{e.target.querySelector(".custom-range")!==document.activeElement&&e.target.querySelector(".thumb").classList.remove("active")};return(e,i)=>((0,u.wg)(),(0,u.j4)(l.uT,{name:"player"},{default:(0,u.w5)((()=>[(0,u.wy)((0,u._)("div",{id:"player",class:"bg-base-100 w-full h-[50px] select-none shadow-[0px_0px_25px_5px_rgba(0,0,0,.25)]",onMouseenter:S,onMouseleave:M},[(0,u.Wm)(X,{class:"player__timeline drop-shadow-md",max:v.value-1,value:(0,o.SU)(t).copy?d.value:r.value,onUpdateValue:h,onSetValue:y},null,8,["max","value"]),(0,u._)("div",ae,[(0,u._)("div",le,[(0,u._)("button",{class:(0,n.C_)("play w-[26px] h-[26px] drop-shadow-md"+((0,o.SU)(t).playing?" pause":"")),onClick:_},null,2),(0,u._)("div",ue,[(0,u._)("span",oe,(0,n.zw)((0,o.SU)(g)),1),ne,(0,u._)("span",ie,(0,n.zw)((0,o.SU)(w)),1)])]),(0,u._)("div",se,[(0,u._)("div",re,[(0,u._)("img",{class:"rounded-lg box-border object-cover w-[30px] h-[30px] drop-shadow-md",src:(0,o.SU)(a).wrap,width:"40px",height:"40px",alt:"wrap-image"},null,8,de),(0,u._)("div",ce,[(0,u._)("div",ve,(0,n.zw)((0,o.SU)(a).name),1),(0,u._)("div",pe,[(0,u._)("div",null,(0,n.zw)((0,o.SU)(a).bpm)+"BPM ",1),(0,u._)("div",null," Type: "+(0,n.zw)((0,o.SU)(a).artist.name),1)])])])]),(0,u._)("div",me,[(0,u._)("div",{class:"flex items-center gap-2 600:hidden",onMouseenter:S,onMouseleave:M},[(0,u.Wm)(ee,{class:"w-[65px] drop-shadow-md",value:c.value,max:100,mode:"live",onChangeValue:k},null,8,["value"]),(0,u._)("button",{class:(0,n.C_)("block w-[26px] h-[26px] volume drop-shadow-md"+(c.value?"":" muted")),onClick:W},null,2)],32),(0,u._)("a",{class:"block w-[26px] h-[26px] download drop-shadow-md",href:(0,o.SU)(a).audio.wav,download:""},null,8,fe)])])],544),[[l.F8,(0,o.SU)(t).beat.audio.mp3]])])),_:1}))}};const be=(0,r.Z)(xe,[["__scopeId","data-v-43564ddd"]]);var ge=be;const we={class:"app flex flex-col min-h-screen items-center justify-center"},he={class:"fixed bottom-0 w-full"};var ye={__name:"App",setup(e){const t="/beatstore_player/",a={id:1,name:"Vibes",bpm:210,artist:{name:"Drake",id:4},wrap:`${t}images/wrap27.jpg`,audio:{mp3:`${t}audio/Vibes_Drake_210BPM.mp3`,wav:`${t}audio/Vibes_Drake_210BPM.mp3`}};return(e,t)=>((0,u.wg)(),(0,u.iD)("div",we,[(0,u.Wm)(Y,{beat:a}),(0,u._)("div",he,[(0,u.Wm)(ge)])]))}};const _e=ye;var ke=_e;(0,l.ri)(ke).use((0,p.WB)()).mount("#app")}},t={};function a(l){var u=t[l];if(void 0!==u)return u.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,u,o){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],u=e[d][1],o=e[d][2];for(var i=!0,s=0;s<l.length;s++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(i=!1,o<n&&(n=o));if(i){e.splice(d--,1);var r=u();void 0!==r&&(t=r)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,u,o]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var u,o,n=l[0],i=l[1],s=l[2],r=0;if(n.some((function(t){return 0!==e[t]}))){for(u in i)a.o(i,u)&&(a.m[u]=i[u]);if(s)var d=s(a)}for(t&&t(l);r<n.length;r++)o=n[r],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},l=self["webpackChunkbeatstore_player"]=self["webpackChunkbeatstore_player"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(123)}));l=a.O(l)})();
//# sourceMappingURL=app.8c1440d4.js.map